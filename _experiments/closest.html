<!DOCTYPE html>
<html>
<head>
  <title></title>
  <script src=jquery-1.8.2.js></script>
  <script>
    $(function () {

      var $test = $('#test'),
          $top = $('#top'),
          top = $top.get(0),
          $good,
          $bad,
          $test2 = $('#test2'),
          $top2 = $('#top2'),
          top2 = $top2.get(0);

      console.time('closest');

      $.each(new Array(10000), function () {
        $good = $test.closest('.good');
        $bad = $test.closest('.bad');
      });

      console.log($good, $bad);
      $good = $bad = null;
      console.timeEnd('closest');

      console.time('closest with $context');

      $.each(new Array(10000), function () {
        $good = $test.closest('.good', $top);
        $bad = $test.closest('.bad', $top);
      });

      console.log($good, $bad);
      $good = $bad = null;
      console.timeEnd('closest with $context');

      console.time('closest with context');

      $.each(new Array(10000), function () {
        $good = $test.closest('.good', top);
        $bad = $test.closest('.bad', top);
      });

      console.log($good, $bad);
      $good = $bad = null;
      console.timeEnd('closest with context');



      '---';

      console.time('closest');

      $.each(new Array(10000), function () {
        $good = $test2.closest('.good');
        $bad = $test2.closest('.bad');
      });

      console.log($good, $bad);
      $good = $bad = null;
      console.timeEnd('closest');

      console.time('closest with $context');

      $.each(new Array(10000), function () {
        $good = $test2.closest('.good', $top2);
        $bad = $test2.closest('.bad', $top2);
      });

      console.log($good, $bad);
      $good = $bad = null;
      console.timeEnd('closest with $context');

      console.time('closest with context');

      $.each(new Array(10000), function () {
        $good = $test2.closest('.good', top2);
        $bad = $test2.closest('.bad', top2);
      });

      console.log($good, $bad);
      $good = $bad = null;
      console.timeEnd('closest with context');


    });
  </script>
</head>
<body>

<div>
  <div>
    <div>
      <div>
        <div>
          <div>
            <div>
              <div>
                <div>
                  <div>
                    <div>
                      <div>
                        <div>
                          <div>
                            <div>
                              <div>
                                <div>
                                  <div>
                                    <div>
                                      <div>
                                        <div class="top" id="top">
                                          <div class="good">
                                            <div>
                                              <div id="test"></div>
                                            </div>
                                          </div>
                                        </div>

                                        <div class="top" id="top2">
                                          <div class="good">
                                            <div>
                                              <div>
                                                <div>
                                                  <div>
                                                    <div>
                                                      <div>
                                                        <div>
                                                          <div>
                                                            <div>
                                                              <div>
                                                                <div>
                                                                  <div>
                                                                    <div>
                                                                      <div>
                                                                        <div>
                                                                          <div>
                                                                            <div>
                                                                              <div>
                                                                                <div>
                                                                                  <div>
                                                                                    <div>
                                                                                      <div>
                                                                                        <div>
                                                                                          <div>
                                                                                            <div>
                                                                                              <div>
                                                                                                <div>
                                                                                                  <div>
                                                                                                    <div>
                                                                                                      <div>
                                                                                                        <div>
                                                                                                          <div>
                                                                                                            <div>
                                                                                                              <div>
                                                                                                                <div>
                                                                                                                  <div>
                                                                                                                    <div>
                                                                                                                      <div>
                                                                                                                        <div>
                                                                                                                          <div>
                                                                                                                            <div>
                                                                                                                              <div>
                                                                                                                                <div>
                                                                                                                                  <div>
                                                                                                                                    <div
                                                                                                                                        id="test2" class="bad"></div>
                                                                                                                                  </div>
                                                                                                                                </div>
                                                                                                                              </div>
                                                                                                                            </div>
                                                                                                                          </div>
                                                                                                                        </div>
                                                                                                                      </div>
                                                                                                                    </div>
                                                                                                                  </div>
                                                                                                                </div>
                                                                                                              </div>
                                                                                                            </div>
                                                                                                          </div>
                                                                                                        </div>
                                                                                                      </div>
                                                                                                    </div>
                                                                                                  </div>
                                                                                                </div>
                                                                                              </div>
                                                                                            </div>
                                                                                          </div>
                                                                                        </div>
                                                                                      </div>
                                                                                    </div>
                                                                                  </div>
                                                                                </div>
                                                                              </div>
                                                                            </div>
                                                                          </div>
                                                                        </div>
                                                                      </div>
                                                                    </div>
                                                                  </div>
                                                                </div>
                                                              </div>
                                                            </div>
                                                          </div>
                                                        </div>
                                                      </div>
                                                    </div>
                                                  </div>
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

</body>
</html>