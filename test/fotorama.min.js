/*!
 * Fotorama 4.0 Î² | MIT License
 */

!function(Zb,t,c,gb){function N(){}function xb(a){return"vertical"===a?{_pos:"top",_pos2:"left",_coo:"pageY",_coo2:"pageX",_side:"height",_side2:"width"}:{_pos:"left",_pos2:"top",_coo:"pageX",_coo2:"pageY",_side:"width",_side2:"height"}}function Q(a,b,d){return Math.max("number"!==typeof b?-Infinity:b,Math.min("number"!==typeof d?Infinity:d,a))}function yb(a,b){return a.match(/-?\d+/g)["left"===b?4:5]}function sa(a,b,d){var g={};ea&&d?g.transform="left"===b?"translate3d("+a+"px,0,0)":"translate3d(0,"+
a+"px,0)":(g[b]=a,g["left"===b?"top":"left"]=0);return g}function Ya(a){return{"transition-duration":a+"ms"}}function I(a,b){a=Number(String(a).replace(b||"px",""));return isNaN(a)?!1:a}function hb(a){var b=I(a,"%");return b&&/%$/.test(a)?b:!1}function zb(a){return("inner"+a).replace("rw","rW").replace("rh","rH")}function Za(a,b,d){var g,h=a.data();h.transProp=a.css("transition-property");h.onEndFn=function(){g=!0;b.call(this)};var c=a.data();c.transEnd||(a.get(0).addEventListener({WebkitTransition:"webkitTransitionEnd",
MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[$.prefixed("transition")],function(b){var a=c.transProp;if(a.match(b.propertyName)||a.match("all"))c.transProp=a.replace(b.propertyName,""),c.onEndFn.call(this)}),c.transEnd=!0);clearTimeout(h.transTimeout);d&&(h.transTimeout=setTimeout(function(){g||(a.data().onEndFn=N,b.call(a.get(0)))},1.1*d))}function Ab(a,b,d){ea&&d?(a.css(Ya(0)),Za(a,N)):a.stop();var g;g=ea&&d?Number(yb(a.css("transform"),
b)):Number(a.css(b).replace("px",""));a.css(sa(g,b,d));return g}function Fa(){Fa.protocol=Fa.protocol||("https://"===location.protocol?"https://":"http://");return Fa.protocol}function $a(a,b){if("undefined"!==typeof a){var d=a,g=t.createElement("a");g.href=d;g.host=g.host.replace(/^www./,"");var a=g,c,f;if("youtube.com"===a.host&&a.search){if(c=a.search.split("v=")[1])d=c.indexOf("&"),-1!==d&&(c=c.substring(0,d)),f="youtube"}else if("youtube.com"===a.host||"youtu.be"===a.host)c=a.pathname.replace(/^\/(embed\/|v\/)?/,
"").replace(/\/.*/,""),f="youtube";else if("vimeo.com"===a.host||"player.vimeo.com"===a.host)f="vimeo",c=a.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,"");if((!c||!f)&&b)c=a.href,f="custom";return c?{id:c,type:f}:!1}}function Bb(a,b,d,g){for(var c=0,f=a.length;c<f;c++){var e=a[c];if(e.i===d&&e.thumbsReady){g.splice(c,1,{i:d,video:e.video,videoReady:!0,caption:e.caption,img:e.img||b.img,thumb:e.thumb||b.thumb});break}}}function ab(a,b,d){a()?b():setTimeout(function(){ab(a,b)},d||100)}function ib(a,
b,d,g){var c=a.data();if(!c.last||c.last.mw!==b.width||c.last.mh!==b.height||c.last.mr!==b.ratio||c.last.mfw!==d.width_||c.last.mfh!==d.height_||c.last.mm!==g){var f=b.width,e=b.height,l=b.ratio>=d.width_/d.height_,k=!0===g,v="contain"===g,i="cover"===g;if(l&&(k||v)||!l&&i)f=Q(d.width_,0,k?f:Infinity),e=Math.round(f/b.ratio);else if(l&&i||!l&&(k||v))e=Q(d.height_,0,k?e:Infinity),f=Math.round(e*b.ratio);a.css({width:f,height:e,marginLeft:-f/2,marginTop:-e/2});c.last={mw:b.width,mh:b.height,mr:b.ratio,
mfw:d.width_,mfh:d.height_,mm:g}}}function jb(a,b,d){return b===d?!1:a<=b?"left":a>=d?"right":"left right"}function kb(a,b,d){if(!d)return!1;d=Number(a);if(!isNaN(d))return d-1;for(var c=0,h=b.length;c<h;c++)if(b[c].id===a){d=c;break}return d}function Ga(a,b){b||(Ga.on=!0,location.replace(location.protocol+"//"+location.host+location.pathname.replace(/^\/?/,"/")+location.search+"#"+a),clearTimeout(Ga.timeout),Ga.timeout=setTimeout(function(){Ga.on=!1},100))}function lb(a,b,d){d=d||{};a.each(function(){var a=
c(this),h=a.data(),f;h.clickOn||(h.clickOn=!0,c.extend(Ha(a,{onStart:function(b){f=b;(d.onStart||N).call(this,b)},onMove:d.onMove||N,onEnd:function(a){!a.moved&&!d.tail.checked&&b.call(this,f)}}),d.tail))})}function R(){return!1}function Cb(a){return a.each(function(){c(this).off("mousedown mousemove mouseup").on("mousedown mousemove mouseup",R);mb&&(this.removeEventListener("touchstart",R),this.removeEventListener("touchmove",R),this.removeEventListener("touchend",R),this.addEventListener("touchstart",
R),this.addEventListener("touchmove",R),this.addEventListener("touchend",R))})}function Ia(a,b,d){var g=Math.round(b.pos),h=b.onEnd||N;"undefined"!==typeof b.overPos&&b.overPos!==b.pos&&(g=b.overPos,h=function(){Ia(a,c.extend({},b,{overPos:b.pos,time:Math.max(Ja,b.time/2)}),d)});g=sa(g,b._pos,d);ea&&d?(a.css(Ya(b.time)).css(g),10<b.time?Za(a,h,b.time):h()):a.stop().animate(g,b.time,$b,h)}function Ha(a,b){function d(d){B=c(d.target);if(l||Ka||d.touches&&1<d.touches.length||1<d.which||e.prevent||fa&&
fa.type!==d.type&&ga||b.select&&B.is(b.select,f))return!0!==e.prevent;p=d.type.match("touch");v=a.offset();i=a.width();s=a.height();e.checked=k=E=!1;bb=fa=d;j=e.control;(b.onStart||N).call(f,d,{control:j,$target:B});l=Ka=!0;p||d.preventDefault()}function g(a){if(!l||a.pageX-v.left>i||(0>a.pageX-v.left||a.pageY-v.top>s||0>a.pageY-v.top)||a.touches&&1<a.touches.length)h();else{var d=Math.abs(a.pageX-bb.pageX),c=Math.abs(a.pageY-bb.pageY),c=d-c,d=3<=c,c=-3>=c;E||(E=!e.noMove&&!(!d&&!c));if(p&&!e.checked){if(d||
c)e.checked=!0,k="horizontal"===e.orientation?d:c;(!e.checked||k)&&a.preventDefault()}else!p||k?(a.preventDefault(),(b.onMove||N).call(f,a)):l=!1;e.checked=e.checked||d||c}}function h(a){Ka=e.control=!1;l&&(a&&a.preventDefault&&a.preventDefault(),ga=!0,clearTimeout(La),La=setTimeout(function(){ga=!1},1E3),(b.onEnd||N).call(f,{moved:!!E,$target:B,control:j,startEvent:bb}),l=!1)}var f=a.get(0),e={},l,k,v,i,s,bb,Ka,E,B,j,p;mb&&(f.addEventListener("touchstart",d),f.addEventListener("touchmove",g),f.addEventListener("touchend",
h));a.on("mousedown",d);Db.on("mousemove",g).on("mouseup",h);a.on("click","a",function(b){e.checked&&b.preventDefault()});return e}function Eb(a,b){function d(d){l=k=d[e._coo];p=[[(new Date).getTime(),l]];v=i=Ab(a,e._pos,e.cssTransitions);(b.onStart||N).call(g,d,{pos:v})}var g=a.get(0),h=a.data(),f=xb(b.orientation),e={_coo:f._coo,_pos:f._pos,cssTransitions:b.cssTransitions},l,k,v,i,s,p,j,E,B,t,I,x;return e=c.extend(Ha(b.$wrap,{onStart:function(b,a){E=h.minPos;B=h.maxPos;t=h.snap;I=b.altKey;(x=a.control)||
d(b)},onMove:function(c){x&&(x=!1,d(c));k=c[e._coo];p.push([(new Date).getTime(),k]);i=v-(l-k);s=jb(i,E,B);i<=E?i=Math.round(i+(E-i)/1.5):i>=B&&(i=Math.round(i+(B-i)/1.5));e.noMove||a.css(sa(i,e._pos,e.cssTransitions));(b.onMove||N).call(g,c,{pos:i,edge:s})},onEnd:function(a){if(!x){j=(new Date).getTime();for(var d=j-Ma,c,e,h,f=null,l,s,u=Ja,K=b.friction,m=p.length-1;0<=m;m--){c=p[m][0];e=Math.abs(c-d);if(null===f||e<h)f=c,l=p[m][1];else if(f===d||e>h)break;h=e}d=Q(i,E,B);c=l-k;l=0<=c;f=j-f;e=f<=
Ma&&i!==v&&d===i;t&&(E=B=d=Q(Math[e?l?"floor":"ceil":"round"](i/t)*t,E,B));if(e&&(t||d===i))if(c=-(c/f),u*=Q(Math.abs(c),b.timeLow,b.timeHigh),f=Math.round(i+c*u/K),t||(d=f),!l&&f>B||l&&f<E)s=l?E:B,t||(d=s),s=Q(d+0.03*(f-s),s-50,s+50),u=Math.abs((i-s)/(c/K));u*=I?10:1;(b.onEnd||N).call(g,{pos:i,newPos:d,overPos:s,time:u,moved:a.moved,$target:a.$target,startEvent:a.startEvent})}},select:b.select,control:b.control}),e)}var $,Na=this,S=this.document,Pa=function(a,b){for(var d in a){var c=a[d];if(!~(""+
c).indexOf("-")&&void 0!==Oa[c])return"pfx"==b?c:!0}return!1},J=function(a,b,d){var c=a.charAt(0).toUpperCase()+a.slice(1),h=(a+" "+Qa.join(c+" ")+c).split(" ");if("string"===typeof b||"undefined"===typeof b)return Pa(h,b);h=(a+" "+Fb.join(c+" ")+c).split(" ");a:{var a=h,f;for(f in a)if(c=b[a[f]],void 0!==c){b=!1===d?a[f]:"function"===typeof c?c.bind(d||b):c;break a}b=!1}return b},p={},M=S.documentElement,Gb=S.createElement("modernizr"),Oa=Gb.style,Hb=" -webkit- -moz- -o- -ms- ".split(" "),Qa=["Webkit",
"Moz","O","ms"],Fb=["webkit","moz","o","ms"],V={},Ib=[],Ra=Ib.slice,aa,ta=function(a,b,d,c){var h,f,e=S.createElement("div"),l=S.body,k=l||S.createElement("body");if(parseInt(d,10))for(;d--;)h=S.createElement("div"),h.id=c?c[d]:"modernizr"+(d+1),e.appendChild(h);d=['&#173;<style id="smodernizr">',a,"</style>"].join("");e.id="modernizr";(l?e:k).innerHTML+=d;k.appendChild(e);l||(k.style.background="",k.style.overflow="hidden",f=M.style.overflow,M.style.overflow="hidden",M.appendChild(k));a=b(e,a);l?
e.parentNode.removeChild(e):(k.parentNode.removeChild(k),M.style.overflow=f);return!!a},ua={}.hasOwnProperty,ia;ia="undefined"!==typeof ua&&"undefined"!==typeof ua.call?function(a,b){return ua.call(a,b)}:function(a,b){return b in a&&"undefined"===typeof a.constructor.prototype[b]};Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=Ra.call(arguments,1),g=function(){if(this instanceof g){var h=function(){};h.prototype=b.prototype;
var h=new h,f=b.apply(h,c.concat(Ra.call(arguments)));return Object(f)===f?f:h}return b.apply(a,c.concat(Ra.call(arguments)))};return g});V.touch=function(){var a;"ontouchstart"in Na||Na.DocumentTouch&&S instanceof DocumentTouch?a=!0:ta(["@media (",Hb.join("touch-enabled),("),"modernizr){#modernizr{top:9px;position:absolute}}"].join(""),function(b){a=9===b.offsetTop});return a};V.csstransforms3d=function(){var a=!!J("perspective");a&&"webkitPerspective"in M.style&&ta("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",
function(b){a=9===b.offsetLeft&&3===b.offsetHeight});return a};V.csstransitions=function(){return J("transition")};for(var ja in V)ia(V,ja)&&(aa=ja.toLowerCase(),p[aa]=V[ja](),Ib.push((p[aa]?"":"no-")+aa));p.addTest=function(a,b){if("object"==typeof a)for(var c in a)ia(a,c)&&p.addTest(c,a[c]);else{a=a.toLowerCase();if(void 0!==p[a])return p;b="function"==typeof b?b():b;"undefined"!==typeof enableClasses&&enableClasses&&(M.className+=" "+(b?"":"no-")+a);p[a]=b}return p};Oa.cssText="";Gb=null;p._version=
"2.6.2";p._prefixes=Hb;p._domPrefixes=Fb;p._cssomPrefixes=Qa;p.testProp=function(a){return Pa([a])};p.testAllProps=J;p.testStyles=ta;p.prefixed=function(a,b,c){return b?J(a,b,c):J(a,"pfx")};$=p;var j={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},Jb=["webkit","moz","o","ms","khtml"];if("undefined"!=typeof t.cancelFullScreen)j.supportsFullScreen=!0;else for(var ka=0,ac=Jb.length;ka<ac;ka++)if(j.prefix=
Jb[ka],"undefined"!=typeof t[j.prefix+"CancelFullScreen"]){j.supportsFullScreen=!0;break}j.supportsFullScreen&&(j.fullScreenEventName=j.prefix+"fullscreenchange",j.isFullScreen=function(){switch(this.prefix){case "":return t.fullScreen;case "webkit":return t.webkitIsFullScreen;default:return t[this.prefix+"FullScreen"]}},j.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},j.cancelFullScreen=function(){return""===this.prefix?t.cancelFullScreen():
t[this.prefix+"CancelFullScreen"]()});var nb="fotorama__stage__frame",Kb=nb+"--active",Lb="fotorama__wrap--not-ready",bc="fotorama__arr--disabled",ob="fotorama__nav--dots",pb="fotorama__nav--thumbs",Mb="fotorama__nav__frame--thumb",Nb="fotorama__wrap--nav-before",qb="fotorama__fade-front",rb="fotorama__fade-rear",cc="fotorama__wrap--vertical",dc="fotorama__wrap--horizontal",Ob="fotorama__wrap--css-transitions",Pb="fotorama__wrap--video",sb="fotorama__select",Qb="fotorama__error",Rb="fotorama__loading",
va=c(Zb),Db=c(t),tb,Sa,mb=$.touch,ec="quirks"===t.location.hash.replace("#",""),ea=$.csstransforms3d&&$.csstransitions&&!ec,Sb=j.supportsFullScreen,Ma=300,Ja=333,fc="#777",wa=2,gc=500,hc=333,xa="{{X}}",ic='<div class="fotorama__video"><iframe src="'+xa+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe></div>',jc={vimeo:"http://player.vimeo.com/video/"+xa+"?autoplay=1&amp;badge=0",youtube:"http://www.youtube.com/embed/"+xa+"?autoplay=1",custom:xa},$b=function(a){var b=
"bez_"+c.makeArray(arguments).join("_").replace(".","p");"function"!==typeof c.easing[b]&&(c.easing[b]=function(b,c,h,f,e){for(var l=[a[0],a[1]],k=[a[2],a[3]],v=[null,null],i=[null,null],s=[null,null],b=function(b,a){s[a]=3*l[a];i[a]=3*(k[a]-l[a])-s[a];v[a]=1-s[a]-i[a];return b*(s[a]+b*(i[a]+b*v[a]))},e=c/=e,p=0,j;14>++p;){j=b(e,0)-c;if(0.0010>Math.abs(j))break;e-=j/(s[0]+e*(2*i[0]+3*v[0]*e))}return f*b(e,1)+h});return b}([0.1,0,0.25,1]),fa,ga,La,K,Tb=t,T=function(a,b){var c=Tb.createElement(a||"div"),
g;for(g in b)c[g]=b[g];return c},O=function(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a},la=function(a,b){var c=a.style,g,h;if(void 0!==c[b])return b;b=b.charAt(0).toUpperCase()+b.slice(1);for(h=0;h<Ub.length;h++)if(g=Ub[h]+b,void 0!==c[g])return g},x=function(a,b){for(var c in b)a.style[la(a,c)||c]=b[c];return a},Vb=function(a){for(var b=1;b<arguments.length;b++){var c=arguments[b],g;for(g in c)void 0===a[g]&&(a[g]=c[g])}return a},Wb=function(a){for(var b={x:a.offsetLeft,
y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b},Ub=["webkit","Moz","ms","O"],Xb={},ma,W,ya=T("style",{type:"text/css"});O(Tb.getElementsByTagName("head")[0],ya);W=ya.sheet||ya.styleSheet;var kc={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:0.25,fps:20,zIndex:2E9,className:"spinner",top:"auto",left:"auto"};K=function(a){if(!this.spin)return new K(a);this.opts=Vb(a||{},K.defaults,kc)};K.defaults={};Vb(K.prototype,{spin:function(a){this.stop();
var b=this,c=b.opts,g=b.el=x(T(0,{className:c.className}),{position:"relative",width:0,zIndex:c.zIndex}),h=c.radius+c.length+c.width,f,e;a&&(a.insertBefore(g,a.firstChild||null),e=Wb(a),f=Wb(g),x(g,{left:("auto"==c.left?e.x-f.x+(a.offsetWidth>>1):parseInt(c.left,10)+h)+"px",top:("auto"==c.top?e.y-f.y+(a.offsetHeight>>1):parseInt(c.top,10)+h)+"px"}));g.setAttribute("aria-role","progressbar");b.lines(g,b.opts);if(!ma){var l=0,k=c.fps,p=k/c.speed,i=(1-c.opacity)/(p*c.trail/100),s=p/c.lines;(function Ka(){l++;
for(var a=c.lines;a;a--){var e=Math.max(1-(l+a*s)%p*i,c.opacity);b.opacity(g,c.lines-a,e,c)}b.timeout=b.el&&setTimeout(Ka,~~(1E3/k))})()}return b},stop:function(){var a=this.el;a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0);return this},lines:function(a,b){function c(a,d){return x(T(),{position:"absolute",width:b.length+b.width+"px",height:b.width+"px",background:a,boxShadow:d,transformOrigin:"left",transform:"rotate("+~~(360/b.lines*g+b.rotate)+"deg) translate("+
b.radius+"px,0)",borderRadius:(b.corners*b.width>>1)+"px"})}for(var g=0,h;g<b.lines;g++){h=T();var f=1+~(b.width/2)+"px",e=b.hwaccel?"translate3d(0,0,0)":"",l=b.opacity,k;if(k=ma){k=b.opacity;var p=b.trail,i=g,s=b.lines,j=["opacity",p,~~(100*k),i,s].join("-"),i=0.01+100*(i/s),s=Math.max(1-(1-k)/p*(100-i),k),t=ma.substring(0,ma.indexOf("Animation")).toLowerCase(),t=t&&"-"+t+"-"||"";Xb[j]||(W.insertRule("@"+t+"keyframes "+j+"{0%{opacity:"+s+"}"+i+"%{opacity:"+k+"}"+(i+0.01)+"%{opacity:1}"+(i+p)%100+
"%{opacity:"+k+"}100%{opacity:"+s+"}}",W.cssRules.length),Xb[j]=1);k=j+" "+1/b.speed+"s linear infinite"}h=x(h,{position:"absolute",top:f,transform:e,opacity:l,animation:k});b.shadow&&O(h,x(c("#000","0 0 4px #000"),{top:"2px"}));O(a,O(h,c(b.color,"0 0 1px rgba(0,0,0,.1)")))}return a},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var na=function(a,b){return T("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',b)},oa=x(T("group"),{behavior:"url(#default#VML)"});
!la(oa,"transform")&&oa.adj?(W.addRule(".spin-vml","behavior:url(#default#VML)"),K.prototype.lines=function(a,b){function c(){return x(na("group",{coordsize:f+" "+f,coordorigin:-h+" "+-h}),{width:f,height:f})}function g(a,g,e){O(l,O(x(c(),{rotation:360/b.lines*a+"deg",left:~~g}),O(x(na("roundrect",{arcsize:b.corners}),{width:h,height:b.width,left:b.radius,top:-b.width>>1,filter:e}),na("fill",{color:b.color,opacity:b.opacity}),na("stroke",{opacity:0}))))}var h=b.length+b.width,f=2*h,e=2*-(b.width+
b.length)+"px",l=x(c(),{position:"absolute",top:e,left:e});if(b.shadow)for(e=1;e<=b.lines;e++)g(e,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(e=1;e<=b.lines;e++)g(e);return O(a,l)},K.prototype.opacity=function(a,b,c,g){a=a.firstChild;g=g.shadow&&g.lines||0;if(a&&b+g<a.childNodes.length&&(a=(a=(a=a.childNodes[b+g])&&a.firstChild)&&a.firstChild))a.opacity=c}):ma=la(oa,"animation");!0;jQuery.Fotorama=function(a,b){function d(){var n=A,g;if(b.data&&"object"===
typeof b.data)g=b.data;else if(!(g=m)){var e=function(b,a){var c=b.data(),n=b.children("img").eq(0),d=b.attr("href"),g=b.attr("src"),e=n.attr("src"),h=c.video,f=a?$a(d,!0===h):!1;f?d=!1:a&&((f=$a(g,!0===h))?g=!1:f=$a(h,h));return{video:f,img:d||g||e,thumb:e||g||d,full:b.attr("data-full")||n.attr("data-full"),caption:b.attr("data-caption")||n.attr("data-caption"),fit:c.fit||n.data("fit"),id:b.attr("id")||n.attr("id")}},f=[];a.children().each(function(){var b=c(this),a={};if(b.is("a, img"))a=e(b,!0);
else{if(b.is(":empty"))return;var n=b.children(".fotorama__img").eq(0).detach();n.size()&&(a=e(n));a.html=this;a.caption=a.caption||b.attr("data-caption")}f.push(a)});g=f}m=n.data=g;F=A.size=m.length;c.each(m,function(b,a){if("undefined"===typeof a.i){cb++;a.i=cb;var n=a.video,d,g;"string"===typeof n&&(n=$a(n,!0));if(n){a.video=n;if(!a.img&&!a.thumb){var e=m,h=cb,f=u,Yb,i,n=a.video;"youtube"===n.type?(i=Fa()+"img.youtube.com/vi/"+n.id+"/default.jpg",Yb=i.replace(/\/default.jpg$/,"/hqdefault.jpg"),
a.thumbsReady=!0):"vimeo"===n.type?c.ajax({url:Fa()+"vimeo.com/api/v2/video/"+n.id+".json",dataType:"jsonp",success:function(b){a.thumbsReady=!0;Bb(e,{img:b[0].thumbnail_large,thumb:b[0].thumbnail_small},h,f)}}):a.thumbsReady=!0;d=Yb;g=i}else a.thumbsReady=!0;Bb(m,{img:d,thumb:g},cb,u)}}});q=h(q);s.done=!1;F?d.called||(d.called=!0,a.html(C)):u.destroy()}function g(b){return 0>b?(F+b%F)%F:b>=F?b%F:b}function h(b){return Q(b,0,F-1)}function f(){U.minPos=Math.min(0,w[P]-L[za]());U.maxPos=0;Aa.noMove=
U.minPos===U.maxPos}function e(b,a,d){if("number"===typeof b)var b=Array(b),e=!0;return c.each(b,function(b,c){e&&(c=b);if("number"===typeof c){var n=m[g(c)],h="$"+a+"Frame",f=n[h];d.call(this,b,c,n,f,h,f?f.data():gb)}})}function l(n,d,h,f,i){e(n,d,function(n,e,k,m,p,j){function s(){v.remove();c.Fotorama.cache[r]="error";D&&D!==r?(k[E]=r=D,l([e],d,h,f,!0)):(m.trigger("f:error").removeClass(Rb).addClass(Qb),j.state="error",1<F&&(!j.$html&&!k.deleted&&!k.video&&!x)&&(k.deleted=!0,u.splice(e,1)))}function t(){var n=
c(j.$html).children(),i=v.width()||I(n.attr("data-width"))||gc,n=v.height()||I(n.attr("data-height"))||hc,i={width:i,height:n},n=i.ratio=i.width/i.height;v.data().measures=i;if(!ub||"*"===Ma&&e===Ba||b.flexible&&!A.fullscreen&&e===q||!w.ratio)u.resize(b.flexible&&!A.fullscreen?i:{width:(I(b.width)||I(b.width,"%")?b.width:!1)||i.width,ratio:n},ub&&b.flexible&&!A.fullscreen?b.transitionDuration:0,Ma=e===Ba?!0:"*");v.off("load error");k.noImg||(v.addClass("fotorama__img"+(x?" fotorama__img--full":"")).prependTo(m),
ib(v,i,h||w,f||k.fit||(A.fullscreen?b.fit:oa)));k.noImg||(c.Fotorama.cache[r]="loaded");j.state="loaded";setTimeout(function(){m.trigger("f:load").removeClass(Rb+" "+Qb).addClass("fotorama__loaded "+(x?"fotorama__loaded--full":"fotorama__loaded--img"));"stage"===d&&a.trigger("fotorama:load",M(g(e)))},4)}function B(){ab(function(){return!(0===z.offsetWidth&&0===z.offsetHeight)},function(){t()})}var x=A.fullscreen&&k.full&&!j.$full&&"stage"===d;if(!j.$img||i||x){var z=new Image,v=c(z);j[x?"$full":"$img"]=
v;var E="stage"===d?x?"full":"img":"thumb",r=k[E],D=x?!1:k["stage"===d?"thumb":"img"];"navThumb"===d&&(m=j.$wrap);!r&&!D?(v.remove(),k.noImg=!0,t()):(c.Fotorama.cache[r]?function lc(){"error"===c.Fotorama.cache[r]?s():"loaded"===c.Fotorama.cache[r]?B():setTimeout(lc,100)}():(c.Fotorama.cache[r]="*",v.on("load",B).on("error",s)),z.src=r,v.appendTo(c.Fotorama.$load))}})}function k(a,d){e(a,d,function(a,n,e,g,h,f){g||(g=e[h]=C[h].clone(),f=g.data(),f.data=e,"stage"===d?(e.html&&(a=f.$html=c('<div class="fotorama__html"></div>').append(e.html),
g.append(a)),e.video&&(e=ya.clone(),lb(e,function(){var a=m[q],n=a.video;"object"===typeof n&&a.videoReady&&(Ta&&A.fullscreen&&u.cancelFullScreen(),ab(function(){return!j.isFullScreen()},function(){a.$video||(a.$video=c(ic.replace(xa,jc[n.type].replace(xa,n.id))));a.$video.appendTo(a[X]);C.addClass(Pb);r=a.$video;H.noMove=!0;b.captions&&T()}))},{onStart:function(){H.control=!0},tail:H}),g.addClass(nb+"--video").append(e)),fa=fa.add(g)):"navDot"===d?ia=ia.add(g):"navThumb"===d&&(f.$wrap=g.children(":first"),
db=db.add(g),e.video&&g.append(ya.clone())))})}function p(a){e(a,"stage",function(a,c,n,d,g,e){function f(a){if(a&&a.size()){var c=a.data().measures;c&&ib(a,c,w,n.fit||(A.fullscreen?b.fit:oa))}}d&&(d.css(D,pa?0:(c-(ba||0))*(w[P]+(wa||0))).css(Ha,0),d.fadeTo(0,pa&&c!==q?0:1),e.appended||(e.appended=!0,d.appendTo(ca),ha(n.$video)),f(e.$img),f(e.$full))})}function i(b,a){if(!("thumbs"!==z||isNaN(b))){var d=c("."+Mb+":eq(1)",y),e=d[vb](),g=d.data().$wrap[vb](),f=h(-Math.round((b+e)/(e+0)-0)),i=h(-Math.round((b-
w[P]-e)/(e+0)-0));db.each(function(){var b=c(this).data(),n=b.eq,d={width_:g,height_:g};if(!(n<f||n>i)){if((b=b.$img)&&b.size()){var e=b.data().measures;e&&ib(b,e,d,"cover")}a&&l([n],"navThumb",d,"cover")}})}}function s(){s.done||(Ua=Ua.filter(function(){for(var b,a=c(this),d=a.data(),e=0,g=m.length;e<g;e++)if(d.data===m[e]){b=!0;d.eq=e;break}b||a.remove();return b}).sort(function(b,a){return c(b).data().eq-c(a).data().eq}).appendTo(L),f(),s.done=!0)}function x(){eb&&Va.each(function(b){c(this).toggleClass(bc,
!Y&&(0===q&&0===b||q===F-1&&1===b)&&!r)})}function O(a){Ia(ka,{time:0.9*a,pos:m[q][Z].position()[D]+m[q][Z][za]()/2,_pos:D},b.cssTransitions)}function E(a){if(m[a.guessIndex][Z]){var c=Q(a.coo-(m[a.guessIndex][Z].position()[D]+m[a.guessIndex][Z][za]()/2),U.minPos,U.maxPos),a=0.9*a.time;Ia(L,{time:a,pos:c,_pos:D,onEnd:function(){i(c,!0)}},b.cssTransitions);a&&i(c);J(y,jb(c,U.minPos,U.maxPos))}}function B(){ba=da=q;m[q][X]&&(fa.not(m[q][X].addClass(Kb)).detach().data("appended",!1).removeClass(Kb+" "+
qb+" "+rb),Ab(ca,D,b.cssTransitions),ca.css(sa(0,D,b.cssTransitions)),p([q,Ca,Da]),ja.minPos=Y?-Infinity:-((F-1-(ba||0))*(w[P]+(wa||0))),ja.maxPos=Y?Infinity:-((0-(ba||0))*(w[P]+(wa||0))),ja.snap=w[P]+wa,f())}function R(){var a=m[q][X];a?(a=a.data().$img)&&u.resize(a.data().measures,b.transitionDuration,!1):B()}function S(b){b&&c.extend(w,{width:b.width,height:b.height,minWidth:b.minWidth,maxWidth:b.maxWidth,minHeight:b.minHeight,maxHeight:b.maxHeight,ratio:eval(b.ratio)})}function M(b){if(m){var a=
m[b];return{index:b,$stageFrame:a[X],$navFrame:a[Z]}}}function V(){a.css({marginLeft:0,marginRight:0})}function T(){var a=b.captions&&!r?m[q].caption:null;ua.html(a);ta.css({marginTop:a?-ua.innerHeight():0})}function $(){A.fullscreen&&(A.fullscreen=!1,Sb&&j.cancelFullScreen(na),tb.add(Sa).removeClass("fullscreen"),a.insertAfter(Ja).removeClass("fotorama--fullscreen").trigger("fotorama:fullscreenexit",M(q)),w=c.extend({},Qa),ha(r,!0),u.resize(),l([q,Ca,Da],"stage"),b.flexible&&R(),va.scrollLeft(Oa).scrollTop(Na))}
function J(b,a){b.removeClass("fotorama__shadows--left fotorama__shadows--right");a&&!r&&b.addClass(a.replace(/^|\s/g," fotorama__shadows--"))}function ha(b,a){a&&(C.removeClass(Pb),r=!1,H.noMove=2>F||r||pa);b&&b.remove()}function ma(b){var a=c(this).data().eq;u.show({index:a,slow:b.altKey,coo:b[wb]-y.offset()[D]})}function aa(){d();Y=b.loop&&2<F;qa="vertical"===b.orientation;oa=b.flexible&&!A.fullscreen?!1:b.fit;pa="crossfade"===b.transition||"dissolve"===b.transition;var a={add:[],remove:[]};1<
F?(z=b.nav,fb="before"===b.navPosition,eb=b.arrows,a.remove.push(sb)):z=eb=!1;Ea=xb(b.orientation);D=Ea._pos;Ha=Ea._pos2;wb=Ea._coo;za=Ea._side;P=za+"_";vb=zb(za);La=Ea._side2;zb(La);H._pos=Aa._pos=D;H._coo=Aa._coo=wb;H.orientation=Aa.orientation=b.orientation;H.cssTransitions=Aa.cssTransitions=b.cssTransitions;H.noMove=2>F||r||pa;S(b);!0===z||"dots"===z?(y.addClass(ob).removeClass(pb),k(F,"navDot")):"thumbs"===z?(y.addClass(pb).removeClass(ob),k(F,"navThumb")):(z=!1,y.removeClass(pb+" "+ob));z&&
fb?(a.add.push(Nb),y.insertBefore(G)):(a.remove.push(Nb),y.insertAfter(G));b.allowFullScreen?(la.appendTo(G),Ta=Sb&&"native"===b.allowFullScreen):(la.detach(),Ta=!1);a[pa?"add":"remove"].push("fotorama__wrap--fade");eb?(Va.show(),x()):Va.hide();a[qa?"add":"remove"].push(cc);a[qa?"remove":"add"].push(dc);ra.cssTransitions!==b.cssTransitions&&(ea&&b.cssTransitions?(a.add.push(Ob),ca.add(L).add("thumbs"===z?ka:null).each(function(){c(this).css(sa(Number(L.css(D).replace("px","")),D,b.cssTransitions)).css({top:0,
left:0})})):(a.remove.push(Ob),ca.add(L).add("thumbs"===z?ka:null).each(function(){var a=c(this);a.css(ea&&ra.cssTransitions?sa(Number(yb(a.css("transform"),D)),D,b.cssTransitions):{}).css({transform:"none",transition:"0ms"})})));mb&&a.add.push("fotorama__wrap--touch");Wa.stop&&Wa.stop();Wa=new K({length:8,radius:6,width:2,color:fc,rotate:15});C.addClass(a.add.join(" ")).removeClass(a.remove.join(" "));ra=c.extend({},b);W.done||(b.hash&&location.hash&&(b.startIndex=kb(location.hash.replace(/^#/,""),
m,0===u.eq)||0),"random"===b.startIndex&&(b.startIndex=Math.floor(Math.random()*(F-1-0+1))+0),Ba=Y?g(b.startIndex):h(b.startIndex),isNaN(Ba)&&(a=kb(b.startIndex,m,!0),Ba=isNaN(a)?0:a),q=ba=da=Xa=Ba);F?(u.show({index:q,time:0}),u.resize()):u.destroy()}function W(){W.done||(W.done=!0,C.removeClass(Lb))}var u=this,na=a.get(0),m,cb=0,A=a.data(),F,Ja=c('<div style="display: none;"></div>').insertBefore(a),C=c('<div class="fotorama__wrap '+Lb+'"></div>'),G=c('<div class="fotorama__stage"></div>').appendTo(C);
G.get(0);var ca=c('<div class="fotorama__stage__shaft"></div>').appendTo(G),fa=c(),ga=c('<div class="fotorama__arr fotorama__arr--prev"><div class="fotorama__arr__arr"></div></div>'),Ra=c('<div class="fotorama__arr fotorama__arr--next"><div class="fotorama__arr__arr"></div></div>'),Va=ga.add(Ra).appendTo(G),ta=c('<div class="fotorama__caption"></div>').appendTo(G),ua=c('<div class="fotorama__caption__inner"></div>').appendTo(ta),y=c('<div class="fotorama__nav"></div>'),L=c('<div class="fotorama__nav__shaft"></div>').appendTo(y),
Ua,ia=c(),db=c(),X="$stageFrame",Z,ja=ca.data(),U=L.data(),ga=Cb(c('<div class="fotorama__shadow fotorama__shadow--left"></div><div class="fotorama__shadow fotorama__shadow--right"></div>').appendTo(G));Cb(ga.clone().appendTo(y));var ka=c('<div class="fotorama__thumb-border"></div>').appendTo(L),la=c('<div class="fotorama__fullscreen"></div>'),ya=c('<div class="fotorama__video-play"></div>');c('<div class="fotorama__video-close"></div>').appendTo(G);var r,q=!1,ba,da,Xa,Ca,Da,Y,qa,oa,z,fb,eb,Ba=!1,
Ta,pa,ra={},Ea,D,Ha,wb,za,P,vb,La,w={},ub,Ma,Wa={},H={},Aa={},Na,Oa,Pa,Qa;C[X]=c('<div class="'+nb+'"></div>');C.$navThumbFrame=c('<div class="fotorama__nav__frame '+Mb+'"><div class="fotorama__thumb"></div></div>');C.$navDotFrame=c('<div class="fotorama__nav__frame fotorama__nav__frame--dot"><div class="fotorama__dot"></div></div>');this.show=function(d){function e(){k([q,Ca,Da],"stage");var c=m[q][X];c&&!c.data().state&&(Wa.stop().spin(c.get(0)),c.on("f:load f:error",function(){c.off("f:load f:error");
Wa.stop()}));l([q,Ca,Da],"stage");!b.flexible||A.fullscreen?B():R();a.trigger("fotorama:showend",M(q));T();b.hash&&Pa&&Ga(t.id||q+1,u.eq);Pa=!0}if(!m)return this;var f,i=b.transitionDuration,j,t;"object"!==typeof d?f=d:(f=d.index,i="number"===typeof d.time?d.time:i,j=d.overPos);d.slow&&(i*=10);f=">"===f?da+1:"<"===f?da-1:f;if(isNaN(f)&&(f=kb(f,m,!0),isNaN(f)))return this;q=A.index=Y?g(f):h(f);Ca=0<q||Y?q-1:!1;Da=q<F-1||Y?q+1:!1;da=Y?f:q;t=m[q];p([da]);ha(!1,t.i!==m[g(ba)].i);a.trigger("fotorama:show",
M(q));if(pa){var r=t[X],y=q!==Xa?m[Xa][X]:null;j=i;f=b.cssTransitions;var H=r,G=y,I="crossfade"===b.transition,r=r||c(r),y=y||c(y),C=function(){C.done||(r.removeClass(rb),y.removeClass(qb),(e||N)(),C.done=!0)},J=Ya(j),K={opacity:0},L={opacity:1};r.addClass(rb);y.addClass(qb);ea&&f?(G&&r.css(Ya(0)).css(I?K:L),setTimeout(function(){r.css(J).css(L);y.css(J).css(K)},4),10<j&&(H||G)?H?Za(r,C,j):G&&Za(y,C,j):C()):(G&&r.stop().fadeTo(0,I?0:1),r.stop().fadeTo(j,1,C),y.stop().fadeTo(j,0,C),!H&&!G&&C())}else Ia(ca,
{pos:-((da-(ba||0))*(w[P]+(wa||0))),_pos:D,overPos:j,time:i,onEnd:e},b.cssTransitions);x();a:{if("thumbs"===z)Ua=db,Z="$navThumbFrame";else if(z)Ua=ia,Z="$navDotFrame";else break a;s();Ua.removeClass("fotorama__nav__frame--active");m[q][Z].addClass("fotorama__nav__frame--active")}j=h(q+Q(da-Xa,-1,1));f="undefined"===typeof d.coo;if(z&&(f||j!==q))E({time:i,coo:!f?d.coo:w[P]/2,guessIndex:!f?j:q});"thumbs"===z&&O(i);Xa=q;return this};this.requestFullScreen=function(){b.allowFullScreen&&!A.fullscreen&&
(A.fullscreen=!0,Na=va.scrollTop(),Oa=va.scrollLeft(),va.scrollLeft(0).scrollTop(0),Ta&&j.requestFullScreen(na),setTimeout(function(){tb.add(Sa).addClass("fullscreen");a.appendTo(Sa).addClass("fotorama--fullscreen").trigger("fotorama:fullscreenenter",M(q));Qa=c.extend({},w);ha(r,!0);u.resize();l([q,Ca,Da],"stage")},0))};this.cancelFullScreen=function(){Ta&&j.isFullScreen()?j.cancelFullScreen(t):$()};t.addEventListener(j.fullScreenEventName,function(){!j.isFullScreen()&&!r&&$()},!1);Db.bind("keydown",
function(a){r&&27===a.keyCode?(a.preventDefault(),ha(r,!0)):A.fullscreen&&(27===a.keyCode?(a.preventDefault(),u.cancelFullScreen()):39===a.keyCode||40===a.keyCode?u.show({index:">",slow:a.altKey}):(37===a.keyCode||38===a.keyCode)&&u.show({index:"<",slow:a.altKey}))});this.resize=function(d,e,g){if(!m)return this;S(!A.fullscreen?d:{width:"100%",maxWidth:null,minWidth:null,height:"100%",maxHeight:null,minHeight:null});e=e||0;"*"!==g&&c.extend(b,w);var d=w.width,f=w.height,h=w.ratio,i=va.height()-(z&&
!qa?y.height():0),j=y.width();if(!I(d)&&!I(d,"%")||!d)return this;V();qa&&z&&a.css("margin-"+(fb?"left":"right"),j);C.css({width:d,minWidth:w.minWidth,maxWidth:w.maxWidth});d=w.width_=C.width();f=hb(f)/100*i||I(f);if(!f){if(isNaN(h))return this;f=Math.round(d/h)}f=w.height_=Q(f,hb(w.minHeight)/100*i||I(w.minHeight),hb(w.maxHeight)/100*i||I(w.maxHeight));B();G.addClass("fotorama__stage--only-active").stop().animate({width:d,height:f},e,function(){G.removeClass("fotorama__stage--only-active")});z&&
(y.stop().animate(qa?{left:fb?-j:d,height:f}:{width:d},e).css(qa?{width:"auto"}:{left:0,height:"auto"}),E({guessIndex:q,time:e,coo:w[P]/2}),"thumbs"===z&&s.done&&O(e));b.captions&&T();ub=g||!0;W();return this};this.setOptions=function(a){if(!m)return this;c.extend(b,a);aa();return this};this.destroy=function(){if(!m)return this;V();a.html(A.urtext);A.data=m=gb;c.Fotorama.size--;return this};this.initialize=function(b){if(m)return this;A.api=gb;a.fotorama(b);return this};H=Eb(ca,{onMove:function(a,
b){J(G,b.edge)},onEnd:function(a){J(G);if(a.pos===a.newPos)a.moved||(a=a.startEvent,r?ha(r,!0):u.show({index:a.shiftKey?"<":">",slow:a.altKey}));else{var b=-Math.round(a.newPos/(w[P]+(wa||0))-(ba||0));u.show({index:b,time:a.time,overPos:a.overPos})}},timeLow:1,timeHigh:1,friction:2,select:"."+sb+", ."+sb+" *",$wrap:G,orientation:b.orientation,cssTransitions:b.cssTransitions});Aa=Eb(L,{onMove:function(a,b){J(y,b.edge)},onEnd:function(a){if(a.moved)a.pos!==a.newPos?(Ia(L,{time:a.time,pos:a.newPos,_pos:D,
overPos:a.overPos,onEnd:function(){i(a.newPos,!0)}},b.cssTransitions),i(a.newPos),J(y,jb(a.newPos,U.minPos,U.maxPos))):i(a.pos,!0);else{var c=a.$target.closest(".fotorama__nav__frame",L).get(0);c&&ma.call(c,a.startEvent)}},timeLow:0.5,timeHigh:2,friction:5,$wrap:y,orientation:b.orientation,cssTransitions:b.cssTransitions});lb(Va,function(a){a.preventDefault();r?ha(r,!0):u.show({index:Va.index(this)?">":"<",slow:a.altKey})},{onStart:function(){H.control=!0},tail:H});lb(la,function(){A.fullscreen?u.cancelFullScreen():
u.requestFullScreen()},{onStart:function(){H.control=!0},tail:H});c.each("load push pop shift unshift reverse sort splice".split(" "),function(a,c){u[c]=function(){"load"!==c?Array.prototype[c].apply(m,arguments):arguments[0]&&"object"===typeof arguments[0]&&(b.data=arguments[0]);aa();return u}});this.eq=c.Fotorama._size;c.Fotorama.size++;c.Fotorama._size++;c.Fotorama.api[this.eq]=this;aa();va.on("resize",this.resize)};var ra={};c.each("show resize load push pop shift unshift reverse sort splice setOptions destroy".split(" "),
function(a,b){ra[b]=function(){var a=arguments;return this.each(function(g){if(!g||!("load"===b||"push"===b||"unshift"===b||"splice"===b))g&&("setOptions"===b&&"object"===typeof a[0])&&(a[0].data=null),(g=c(this).data().api)&&g[b].apply(g,a)})}});c.fn.fotorama=function(a){if(ra[a])return ra[a].apply(this,Array.prototype.slice.call(arguments,1));var b="initialize"===a?arguments[1]:a;return this.each(function(){var a=this,g=c(this),h=g.data();h.api||ab(function(){return!(0===a.offsetWidth&&0===a.offsetHeight)},
function(){h.urtext=g.html();h.api=new c.Fotorama(g,c.extend({},c.Fotorama.defaults,c.extend({},b,h)));"object"===typeof b&&(b.data=null);"object"===typeof c.Fotorama.defaults&&(c.Fotorama.defaults.data=null)})})};c.Fotorama.defaults={loop:!1,data:null,startIndex:0,orientation:"horizontal",transition:"slide",cssTransitions:!0,arrows:!0,fit:!0,flexible:!1,nav:"dots",navPosition:"after",hash:!1,allowFullScreen:!1,transitionDuration:Ja,captions:!1};c.Fotorama.cache={};c.Fotorama.size=c.Fotorama._size=
0;c.Fotorama.api=[];c(function(){tb=c("html");Sa=c("body");c.Fotorama.$load=c('<div class="fotorama__load"></div>').appendTo(Sa);c(".fotorama").fotorama()})}(window,document,jQuery);
